@import url("https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap&subset=latin,cyrillic");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --list-max-height: min(600px, calc(100vh - 420px));
  }
  body {
    @apply font-sans;
    background-color: #f8fafc;
    color: #0f172a;
  }
  .dark body {
    background-color: #0f1115;
    color: #e6e9ee;
  }
}

@layer components {
  .panel {
    @apply rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm shadow-neutral-200/80;
  }
  .card {
    @apply rounded-2xl border border-neutral-200 bg-white p-4 shadow-sm shadow-neutral-200/70;
  }
  .btn {
    @apply inline-flex items-center justify-center rounded-xl bg-amber-500 px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-amber-400;
  }
  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-xl border border-neutral-200 bg-white px-4 py-2 text-sm font-medium text-neutral-700 transition hover:border-amber-400 hover:text-amber-600;
  }
  .btn-danger {
    @apply inline-flex items-center justify-center rounded-xl bg-red-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-red-400;
  }
  .field-label {
    @apply mb-2 text-xs font-semibold uppercase tracking-wide text-neutral-500;
  }
  .input {
    @apply w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm text-neutral-900 placeholder:text-neutral-400 focus:border-amber-400 focus:outline-none;
  }
  .textarea {
    @apply w-full rounded-xl border border-neutral-200 bg-white px-3 py-2 text-sm text-neutral-900 placeholder:text-neutral-400 focus:border-amber-400 focus:outline-none;
  }
  .table {
    @apply w-full text-left text-sm;
  }
  .table thead th {
    @apply whitespace-nowrap border-b border-neutral-200 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-neutral-500;
  }
  .table tbody td {
    @apply border-b border-neutral-100 px-3 py-2 text-sm text-neutral-700;
  }
  .toast {
    @apply fixed bottom-6 right-6 z-50 rounded-xl border border-amber-200 bg-white px-4 py-3 text-sm text-neutral-700 shadow-lg;
  }
  .list-scroll {
    @apply overflow-y-auto overflow-x-hidden pr-1;
    max-height: var(--list-max-height);
    scrollbar-gutter: stable;
  }
  .logo-3d {
    position: relative;
    display: inline-block;
    font-size: 1.1rem;
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.01em;
    color: #0f172a;
    perspective: 800px;
    transform-style: preserve-3d;
    animation: logo-float 6s ease-in-out infinite;
  }
  .logo-3d__layer {
    position: absolute;
    inset: 0;
    transform-style: preserve-3d;
    pointer-events: none;
  }
  .logo-3d__layer--shadow {
    color: rgba(15, 23, 42, 0.35);
    transform: translate3d(2px, 3px, -14px);
    filter: blur(0.4px);
  }
  .logo-3d__layer--glow {
    color: #38bdf8;
    opacity: 0.55;
    transform: translate3d(-1px, -1px, -8px);
    text-shadow: 0 0 18px rgba(56, 189, 248, 0.6);
    animation: logo-glow 3.5s ease-in-out infinite;
  }
  .logo-3d__layer--front {
    position: relative;
    color: #0f172a;
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.45), 0 4px 12px rgba(15, 23, 42, 0.12);
  }
}

/* Hide native password reveal/clear buttons (Edge/IE) to avoid double eye icon */
input[type="password"]::-ms-reveal,
input[type="password"]::-ms-clear {
  display: none;
  width: 0;
  height: 0;
}

@layer utilities {
  .dark {
    color-scheme: dark;
  }
  .dark .bg-white {
    background-color: #1f2228;
  }
  .dark .bg-neutral-50 {
    background-color: #24262d;
  }
  .dark .bg-neutral-100 {
    background-color: #2a2d34;
  }
  .dark .bg-neutral-200 {
    background-color: #323642;
  }
  .dark .bg-neutral-900,
  .dark .bg-black {
    background-color: #171a20;
  }
  .dark .card,
  .dark .panel {
    background-color: #1f2228;
    border-color: #2a2e38;
    box-shadow: 0 18px 40px -28px rgba(0, 0, 0, 0.6);
  }
  .dark .border-neutral-100 {
    border-color: #2a2e38;
  }
  .dark .border-neutral-200 {
    border-color: #303440;
  }
  .dark .border-neutral-300 {
    border-color: #3a3f4d;
  }
  .dark .text-neutral-900,
  .dark .text-black {
    color: #f3f4f6;
  }
  .dark .text-neutral-800 {
    color: #e5e7eb;
  }
  .dark .text-neutral-700 {
    color: #d1d5db;
  }
  .dark .text-neutral-600,
  .dark .text-neutral-500 {
    color: #9aa4b2;
  }
  .dark .text-neutral-400 {
    color: #7a8597;
  }
  .dark .shadow-neutral-200\/70 {
    box-shadow: 0 20px 40px -28px rgba(0, 0, 0, 0.7);
  }
  .dark .shadow-neutral-200 {
    box-shadow: 0 18px 32px -26px rgba(0, 0, 0, 0.6);
  }
  .dark .logo-3d__layer--shadow {
    color: rgba(15, 23, 42, 0.7);
  }
  .dark .logo-3d__layer--front {
    color: #f8fafc;
    text-shadow: 0 1px 0 rgba(15, 23, 42, 0.5), 0 6px 16px rgba(2, 6, 23, 0.6);
  }
}

@keyframes logo-float {
  0%,
  100% {
    transform: rotateX(0deg) rotateY(0deg);
  }
  50% {
    transform: rotateX(8deg) rotateY(-10deg);
  }
}

@keyframes logo-glow {
  0%,
  100% {
    opacity: 0.45;
    filter: blur(0.2px);
  }
  50% {
    opacity: 0.75;
    filter: blur(0.8px);
  }
}
